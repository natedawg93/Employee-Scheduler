<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<script src="https://code.jquery.com/jquery-3.4.1.js"></script> <!--jquery cdn-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script> <!--moment js cdn-->

<script>
  // var d = moment(moment("Sat May 04 2019 13:30:00 GMT-0500 (Central Daylight Time)").format('YYYY-MM-DDTHH:mm:ss'))
//   var d = moment('Wed Jun 19 2019 04:23:00 GMT-0500 (Central Daylight Time)')
//   var t = moment("2019-05-04T09:59:00.000Z")
//   // d.setUTCHours(0,0,0,0);
//   // d.set({hour:0,minute:0,second:0,millisecond:0})
//   console.log(d)
//   // console.log(d.format('LLLL'))
//   // console.log("Second "+d.second())
//   console.log("Minute "+d.utc().format('mm'))
//   console.log("hour "+d.utc().format('hh'))
//   console.log("Date "+d.utc().format('MM/DD/YYYY'))
//   console.log("AM_PM "+d.utc().format('A'))
//   // console.log("ISO "+moment.unix(d.valueOf()/1000).format('YYYY-MM-DDTHH:mm:ss'))
//   // console.log("ISO "+d.format('YYYY-MM-DDTHH:mm:ss'))
//   // console.log("Unix "+d.valueOf())
//   // console.log("From Unix "+moment.unix(1556982000).format('MM-DD-YYYY HH:mm:ss'))
//   // console.log((Number.parseInt(d.format('HH'))*60) + Number.parseInt(from_minute))

//   var from_am_pm = d.utc().format('A')
//   var from_minute = d.utc().format('mm')
//   var from_hour = d.utc().format('HH')
//   var from_date = d.utc().format('MM/DD/YYYY')
//   // var from_ISO = moment.unix(d.valueOf()/1000).format('YYYY-MM-DDTHH:mm:ss')
//   // var from_ISO = d.utc().format('YYYY-MM-DDTHH:mm:ss')

//   // var from_unix = d.valueOf()
//   // var from_time_in_minutes = (Number.parseInt(from_hour)*60) + Number.parseInt(from_minute)
//   // console.log(from_am_pm.toLowerCase())

//   var to_am_pm = t.utc().format('A')
//   var to_minute = t.utc().format('mm')
//   var to_hour = t.utc().format('HH')
//   var to_date = t.utc().format('MM/DD/YYYY')
//   // var to_ISO = t.utc().format('YYYY-MM-DDTHH:mm:ss')
//   // var to_ISO = moment.unix(t.valueOf()/1000).format('YYYY-MM-DDTHH:mm:ss.000Z')
//   // var to_unix = t.valueOf()
//   // var to_time_in_minutes = (Number.parseInt(to_hour)*60) + Number.parseInt(to_minute)

//   var payload = new Object()

//   payload.field_58 = {
//       am_pm:from_am_pm,
//       date:from_date,
//       hours:from_hour,
//       minutes:from_minute,
//       to:{
//         am_pm:to_am_pm,
//         date:to_date,
//         hours:to_hour,
//         minutes:to_minute,
//       }
//   }

//   console.log(payload)

//   var filters = {
//   "match": "or",
//   "rules": [
//     {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/04/2019"
//       }
//     },
//       {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/05/2019"
//       }
//     },
//       {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/06/2019"
//       }
//     },
//       {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/07/2019"
//       }
//     },
//     {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/08/2019"
//       }
//     },
//       {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/09/2019"
//       }
//     },
//       {
//         "field": "field_58",
//         "operator": "is",
//         "value": {
//           "date": "05/10/2019"
//       }
//     },
    
//   ]
// };

// var f = new Object()
// f.match = "or"
// f.rules = new Array()
// console.log(encodeURIComponent(JSON.stringify(filters)))
// var start = moment("05/04/2019", 'MM/DD/YYYY')


// for (let i of [0,1,2,3,4,5,6]){
//   f.rules.push({
//       "field": "field_58",
//       "operator": "is",
//       "value": {
//             "date": moment(start, 'MM/DD/YYYY').add(i,'d').format('MM/DD/YYYY')
//         }
//     })
// }

// console.log(encodeURIComponent(JSON.stringify(f)))


var color = '#'+Math.floor(Math.random()*16777215).toString(16)


// Changes the RGB/HEX temporarily to a HSL-Value, modifies that value 
// and changes it back to RGB/HEX.

function changeHue(rgb, degree) {
    var hsl = rgbToHSL(rgb);
    hsl.h += degree;
    if (hsl.h > 360) {
        hsl.h -= 360;
    }
    else if (hsl.h < 0) {
        hsl.h += 360;
    }
    return hslToRGB(hsl);
}

// exepcts a string and returns an object
function rgbToHSL(rgb) {
    // strip the leading # if it's there
    rgb = rgb.replace(/^\s*#|\s*$/g, '');

    // convert 3 char codes --> 6, e.g. `E0F` --> `EE00FF`
    if(rgb.length == 3){
        rgb = rgb.replace(/(.)/g, '$1$1');
    }

    var r = parseInt(rgb.substr(0, 2), 16) / 255,
        g = parseInt(rgb.substr(2, 2), 16) / 255,
        b = parseInt(rgb.substr(4, 2), 16) / 255,
        cMax = Math.max(r, g, b),
        cMin = Math.min(r, g, b),
        delta = cMax - cMin,
        l = (cMax + cMin) / 2,
        h = 0,
        s = 0;

    if (delta == 0) {
        h = 0;
    }
    else if (cMax == r) {
        h = 60 * (((g - b) / delta) % 6);
    }
    else if (cMax == g) {
        h = 60 * (((b - r) / delta) + 2);
    }
    else {
        h = 60 * (((r - g) / delta) + 4);
    }

    if (delta == 0) {
        s = 0;
    }
    else {
        s = (delta/(1-Math.abs(2*l - 1)))
    }

    return {
        h: h,
        s: s,
        l: l
    }
}

// expects an object and returns a string
function hslToRGB(hsl) {
    var h = hsl.h,
        s = hsl.s,
        l = hsl.l,
        c = (1 - Math.abs(2*l - 1)) * s,
        x = c * ( 1 - Math.abs((h / 60 ) % 2 - 1 )),
        m = l - c/ 2,
        r, g, b;

    if (h < 60) {
        r = c;
        g = x;
        b = 0;
    }
    else if (h < 120) {
        r = x;
        g = c;
        b = 0;
    }
    else if (h < 180) {
        r = 0;
        g = c;
        b = x;
    }
    else if (h < 240) {
        r = 0;
        g = x;
        b = c;
    }
    else if (h < 300) {
        r = x;
        g = 0;
        b = c;
    }
    else {
        r = c;
        g = 0;
        b = x;
    }

    r = normalize_rgb_value(r, m);
    g = normalize_rgb_value(g, m);
    b = normalize_rgb_value(b, m);

    return rgbToHex(r,g,b);
}

function normalize_rgb_value(color, m) {
    color = Math.floor((color + m) * 255);
    if (color < 0) {
        color = 0;
    }
    return color;
}

function rgbToHex(r, g, b) {
    return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}

var new_color = changeHue(color, 40)

// document.getElementById("one").style.color = color
// document.getElementById("two").style.color = new_color
function LightenDarkenColor(col,amt) {
    var num = parseInt(col,16);
    var r = (num >> 16) + amt;
    var b = ((num >> 8) & 0x00FF) + amt;
    var g = (num & 0x0000FF) + amt;
    var newColor = g | (b << 8) | (r << 16);
    return newColor.toString(16);
}

function shadeColor(color, percent) {

    var R = parseInt(color.substring(1,3),16);
    var G = parseInt(color.substring(3,5),16);
    var B = parseInt(color.substring(5,7),16);

    R = parseInt(R * (100 + percent) / 100);
    G = parseInt(G * (100 + percent) / 100);
    B = parseInt(B * (100 + percent) / 100);

    R = (R<255)?R:255;  
    G = (G<255)?G:255;  
    B = (B<255)?B:255;  

    var RR = ((R.toString(16).length==1)?"0"+R.toString(16):R.toString(16));
    var GG = ((G.toString(16).length==1)?"0"+G.toString(16):G.toString(16));
    var BB = ((B.toString(16).length==1)?"0"+B.toString(16):B.toString(16));

    return "#"+RR+GG+BB;
}
</script>

</head>
<body>
  <div id="one" width=100 height=100>a</div>
  <div id="two" width=100 height=100>b</div>

  <script>
    var color = '#'+Math.floor(Math.random()*16777215).toString(16)
    var new_color = shadeColor(color, 2)
    console.log(color)
    console.log(new_color)
    document.getElementById("one").style.color = color
    document.getElementById("two").style.color = new_color
  </script>
</body>
</html>


